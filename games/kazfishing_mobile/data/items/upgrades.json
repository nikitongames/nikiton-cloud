{
  "upgrade_system": {
    "logic": "new_durability = current_durability * (1 + durability_bonus) ; new_efficiency = current_efficiency * (1 + efficiency_bonus)",
    "apply_cost_currency": "kzc",
    "apply_time_seconds": 5,
    "max_upgrade_level": 5,
    "rarity_requirements": {
      "common": 1,
      "uncommon": 2,
      "rare": 3,
      "legendary": 4
    },
    "failure_chance": {
      "1": 0.0,
      "2": 0.05,
      "3": 0.1,
      "4": 0.15,
      "5": 0.25
    },
    "upgrade_tokens_required": {
      "rod": 1,
      "reel": 1,
      "line": 1,
      "hook": 1,
      "lure": 1
    }
  },

  "upgrade_tokens": [
    {
      "id": "rod_upgrade_token",
      "title": "Токен улучшения удилища",
      "description": "Используется для ремонта и апгрейда удилищ. Повышает прочность и эффективность.",
      "durability_bonus": 0.15,
      "efficiency_bonus": 0.05,
      "rarity": "uncommon"
    },
    {
      "id": "reel_upgrade_token",
      "title": "Токен улучшения катушки",
      "description": "Повышает мощность тормоза и надёжность фрикциона.",
      "durability_bonus": 0.10,
      "efficiency_bonus": 0.08,
      "rarity": "uncommon"
    },
    {
      "id": "line_upgrade_token",
      "title": "Токен улучшения лески",
      "description": "Увеличивает прочность и снижает шанс обрыва.",
      "durability_bonus": 0.2,
      "efficiency_bonus": 0.0,
      "rarity": "rare"
    },
    {
      "id": "hook_upgrade_token",
      "title": "Токен улучшения крючков",
      "description": "Заточенные и усиленные крючки — меньше сходов.",
      "durability_bonus": 0.1,
      "efficiency_bonus": 0.12,
      "rarity": "rare"
    },
    {
      "id": "lure_upgrade_token",
      "title": "Токен улучшения приманок",
      "description": "Добавляет блеск и шумовые эффекты, увеличивая шанс клёва.",
      "durability_bonus": 0.05,
      "efficiency_bonus": 0.15,
      "rarity": "rare"
    },
    {
      "id": "universal_upgrade_kit",
      "title": "Универсальный комплект улучшений",
      "description": "Позволяет ремонтировать любую снасть в полевых условиях. Одноразовый.",
      "durability_restore": 0.25,
      "efficiency_bonus": 0.05,
      "rarity": "legendary"
    },
    {
      "id": "auto_repair_module",
      "title": "Модуль автопочинки",
      "description": "Автоматически чинит снасти после рыбалки, если прочность ниже 15%.",
      "effect": "auto_repair_enable",
      "rarity": "legendary"
    }
  ],

  "boost_items": [
    {
      "id": "durability_boost_1h",
      "title": "Усилитель прочности (1 час)",
      "description": "Снижает износ всех снастей на 25% в течение 1 часа.",
      "duration_minutes": 60,
      "effect": "reduce_wear",
      "value": 0.25,
      "rarity": "rare"
    },
    {
      "id": "efficiency_boost_1h",
      "title": "Усилитель эффективности (1 час)",
      "description": "Увеличивает шанс клёва на 10% в течение 1 часа.",
      "duration_minutes": 60,
      "effect": "boost_efficiency",
      "value": 0.1,
      "rarity": "rare"
    },
    {
      "id": "pro_repair_kit",
      "title": "Полевой ремонтный набор PRO",
      "description": "Полностью восстанавливает прочность одной снасти.",
      "effect": "repair_full",
      "rarity": "legendary"
    }
  ],

  "notes": "Система улучшений и ремонта. Поддерживает токены, усилители и ремонтные наборы. Все эффекты применяются к durability.json и efficiency из lures/baits.json. Максимальный уровень улучшений — 5."
}
